    <!DOCTYPE html>
<html lang="en-us,id">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Boy Sandy Gladies Arriezona">
		<meta name="description" content="Thoughts, stories, and ideas">
		<meta name="generator" content="Hugo 0.14" />
		<title>Postgresql and Metasploit &middot; A Place to Remember</title>
		<link rel="shortcut icon" href="http://renodesper.com/images/favicon.ico">
		<link rel="stylesheet" href="http://renodesper.com/css/style.css">
		<link rel="stylesheet" href="http://renodesper.com/css/highlight.css">
		<link href="http://renodesper.com/index.xml" rel="alternate" type="application/rss+xml" title="A Place to Remember" />
	</head>
    <body>
       <nav class="main-nav">
	
	
		<a href='http://renodesper.com/'> <span class="arrow">←</span>Home</a>
	

	
		<a href='http://renodesper.com/about'>About</a>
	

	
	<a class="cta" href="http://renodesper.com/index.xml">Subscribe</a>
	
</nav>

        <section id="wrapper">
            <article class="post">
                <header>
                    <h1>Postgresql and Metasploit</h1>
                    <h2 class="headline">July 12, 2014</h2>
                </header>
                <section id="post-body">
                    

<p>Dulu saya selalu penasaran bagaimana caranya menggunakan metasploit dan konfigurasi database-nya. Tetapi ternyata selama ini saya hanya kurang paham dengan alurnya. Berikut saya tuliskan apa yang sudah saya pahami saat ini.</p>

<h2 id="first-step:d57199fdba6a74cea9ffbe1367f74f3c">First Step</h2>

<p>Hal pertama yang harus diperhatikan adalah database. Database yang digunakan oleh metasploit adalah postgresql. Setelah memasang postgresql di sistem yang kita miliki, kita harus membuat sebuah database yang nantinya akan digunakan oleh metasploit, begitu juga dengan user. Selain itu, hal penting lain yang harus diingat adalah <strong>port</strong> dimana database tersebut berjalan. Jika melihat di tutorial-tutorial yang sudah ada, maka port tersebut akan berbeda-beda. Oleh karena itu kita harus mencari tahu port yang digunakan oleh postgresql pada sistem yang kita miliki. Berikut contoh konfigurasi database yang saya gunakan.</p>

<pre><code>production:
    adapter: postgresql
    database: database_msf
    username: user_msf
    password: password_msf
    host: 127.0.0.1
    port: 5432
    pool: 256
    timeout: 5
</code></pre>

<h2 id="second-step-final-step:d57199fdba6a74cea9ffbe1367f74f3c">Second Step (Final Step?)</h2>

<p>Jika konfigurasi database sudah selesai dilakukan, maka selanjutnya kita cukup mengecek apakah metasploit sudah dapat mengakses database yang sudah kita sediakan.</p>

<pre><code>~ msfconsole
[-] Failed to connect to the database: could not connect to server: Connection refused
    Is the server running on host &quot;127.0.0.1&quot; and accepting
    TCP/IP connections on port 5432?

# cowsay++
 ------------
&lt; metasploit &gt;
 ------------
       \   ,__,
        \  (oo)___
           (__)    )\
              ||--|| *


       =[ metasploit v4.9.3-dev [core:4.9 api:1.0]        ]
+ -- --=[ 1318 exploits - 716 auxiliary - 210 post        ]
+ -- --=[ 341 payloads - 35 encoders - 8 nops             ]
+ -- --=[ Free Metasploit Pro trial: http://r-7.co/trymsp ]

msf &gt;
</code></pre>

<p>Seperti yang dapat kita lihat, metasploit masih belum dapat mengakses database yang kita buat. Ini disebabkan karena service postgresql belum kita nyalakan. Hal ini biasa terjadi jika kita memasang postgresql pada sistem yang kurang <em>user friendly</em>. Jangan dibandingkan dengan Kali yang sudah jelas-jelas menyediakan tools ini pada sistemnya.</p>

<p>Hal yang harus kita lakukan selanjutnya adalah menjalankan service postgresql dan mencoba menjalankan lagi metasploit.</p>

<pre><code>~ sudo systemctl start postgresql
~ msfconsole

       =[ metasploit v4.9.3-dev [core:4.9 api:1.0]        ]
+ -- --=[ 1318 exploits - 716 auxiliary - 210 post        ]
+ -- --=[ 341 payloads - 35 encoders - 8 nops             ]
+ -- --=[ Free Metasploit Pro trial: http://r-7.co/trymsp ]

msf &gt; db_status
[*] postgresql connected to database_msf

msf &gt;

</code></pre>

<p>Daaaaan, metasploit sudah dapat terkoneksi dengan database. <em>Happy hacking&hellip;</em> :)</p>

                </section>
            </article>
            <footer id="post-meta" class="clearfix">
                <a href="https://twitter.com/renodesper">
                        <img class="avatar" src="http://renodesper.com/images/avatar.png">
                        <div>
                            <span class="dark">Boy Sandy Gladies Arriezona</span>
                            <span>I&#39;m an enthusiastic python programmer.</span>
                        </div>
                    </a>
                <section id="sharing">
                    <a class="twitter" href="https://twitter.com/intent/tweet?text=http://renodesper.com/http%3a%2f%2frenodesper.com%2fpost%2fPostgresql%2520and%2520Metasploit%2f - Postgresql%20and%20Metasploit by @renodesper"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
                </section>
            </footer>

            
                <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'aplacetoremember';
        var disqus_developer = 0; 
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
            

            <ul id="post-list" class="archive readmore">
    <h3>Read more</h3>
    
    
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/My%20First%20Time%20with%20Awk/">My First Time with Awk<aside class="dates">Jul 30</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/Starting%20Screen%20in%20Detach%20Mode/">Starting Screen in Detach Mode<aside class="dates">Jul 12</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/Untracking%20The%20Tracked%20Ones/">Untracking The Tracked Ones<aside class="dates">Jun 13</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/Django%20Project/">Django Project<aside class="dates">Jun 13</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/Migration/">Migration<aside class="dates">Jun 4</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/Timestamp%20and%20Date%20in%20Apache%20Phoenix/">Timestamp and Date in Apache Phoenix<aside class="dates">Mar 13</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/dvorak%20programmer%27s%20time/">dvorak programmer&#39;s time<aside class="dates">Jan 18</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/Editing%20Stream%20like%20Merlin%20The%20Mighty%20with%20Sed/">Editing Stream like Merlin The Mighty with Sed<aside class="dates">Dec 18</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="http://renodesper.com/post/Menghapus%20baris%20di%20Vim%202/">Menghapus baris di Vim - 2<aside class="dates">Dec 9</aside></a>
        </li>
        
   
</ul>
            <footer id="footer">
    <p class="small">
        © Copyright 2015 Boy Sandy Gladies Arriezona
    </p>
</footer>
        </section>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://renodesper.com/js/main.js"></script>
<script src="http://renodesper.com/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
