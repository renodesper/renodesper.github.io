
<!DOCTYPE html>
<html lang="en-us,id">
<head>

  
  <meta charset="UTF-8">
  <title>
    Postgresql and Metasploit | A Place to Remember
  </title>


  
  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">


  
  <link rel="stylesheet" href="/css/sanitize.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/highlight_monokai.css">
  <link rel="stylesheet/less" href="/css/theme.less">
  <link rel="stylesheet" href="/css/custom.css">


  
  <script src="/js/less.js" type="text/javascript"></script>


</head>



<body>
<div class="container">

  
  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="/">A Place to Remember</a></h1>
        <h2>Thoughts, stories and ideas.</h2>
      </div>
      <div id="social" class="col span_6">
        <ul>
          <li><a href="https://twitter.com/renodesper" target="_blank">Twitter</a></li>
          <li><a href="https://facebook.com/renodesper" target="_blank">Facebook</a></li>
          <li><a href="https://github.com/renodesper" target="_blank">GitHub</a></li>
        </ul>
      </div>
    </div>
  </header>


  
  <main id="single" role="main">
    <div class="article-header">
      <h1>Postgresql and Metasploit</h1>
      <div class="meta">
        Jul 12, 2014 &nbsp;
        
      </div>
    </div>
    <article>
      

<p>Dulu saya selalu penasaran bagaimana caranya menggunakan metasploit dan konfigurasi database-nya. Tetapi ternyata selama ini saya hanya kurang paham dengan alurnya. Berikut saya tuliskan apa yang sudah saya pahami saat ini.</p>

<h2 id="first-step:d57199fdba6a74cea9ffbe1367f74f3c">First Step</h2>

<p>Hal pertama yang harus diperhatikan adalah database. Database yang digunakan oleh metasploit adalah postgresql. Setelah memasang postgresql di sistem yang kita miliki, kita harus membuat sebuah database yang nantinya akan digunakan oleh metasploit, begitu juga dengan user. Selain itu, hal penting lain yang harus diingat adalah <strong>port</strong> dimana database tersebut berjalan. Jika melihat di tutorial-tutorial yang sudah ada, maka port tersebut akan berbeda-beda. Oleh karena itu kita harus mencari tahu port yang digunakan oleh postgresql pada sistem yang kita miliki. Berikut contoh konfigurasi database yang saya gunakan.</p>

<pre><code>production:
    adapter: postgresql
    database: database_msf
    username: user_msf
    password: password_msf
    host: 127.0.0.1
    port: 5432
    pool: 256
    timeout: 5
</code></pre>

<h2 id="second-step-final-step:d57199fdba6a74cea9ffbe1367f74f3c">Second Step (Final Step?)</h2>

<p>Jika konfigurasi database sudah selesai dilakukan, maka selanjutnya kita cukup mengecek apakah metasploit sudah dapat mengakses database yang sudah kita sediakan.</p>

<pre><code>~ msfconsole
[-] Failed to connect to the database: could not connect to server: Connection refused
    Is the server running on host &quot;127.0.0.1&quot; and accepting
    TCP/IP connections on port 5432?

# cowsay++
 ------------
&lt; metasploit &gt;
 ------------
       \   ,__,
        \  (oo)___
           (__)    )\
              ||--|| *


       =[ metasploit v4.9.3-dev [core:4.9 api:1.0]        ]
+ -- --=[ 1318 exploits - 716 auxiliary - 210 post        ]
+ -- --=[ 341 payloads - 35 encoders - 8 nops             ]
+ -- --=[ Free Metasploit Pro trial: http://r-7.co/trymsp ]

msf &gt;
</code></pre>

<p>Seperti yang dapat kita lihat, metasploit masih belum dapat mengakses database yang kita buat. Ini disebabkan karena service postgresql belum kita nyalakan. Hal ini biasa terjadi jika kita memasang postgresql pada sistem yang kurang <em>user friendly</em>. Jangan dibandingkan dengan Kali yang sudah jelas-jelas menyediakan tools ini pada sistemnya.</p>

<p>Hal yang harus kita lakukan selanjutnya adalah menjalankan service postgresql dan mencoba menjalankan lagi metasploit.</p>

<pre><code>~ sudo systemctl start postgresql
~ msfconsole

       =[ metasploit v4.9.3-dev [core:4.9 api:1.0]        ]
+ -- --=[ 1318 exploits - 716 auxiliary - 210 post        ]
+ -- --=[ 341 payloads - 35 encoders - 8 nops             ]
+ -- --=[ Free Metasploit Pro trial: http://r-7.co/trymsp ]

msf &gt; db_status
[*] postgresql connected to database_msf

msf &gt;

</code></pre>

<p>Daaaaan, metasploit sudah dapat terkoneksi dengan database. <em>Happy hacking&hellip;</em> :)</p>

    </article>
    


<script type="text/javascript">
     
    var disqus_shortname = '';

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  </main>


  
  <footer role="contentinfo">
    <div style="text-align:center;">
      <img src="/images/profile.jpg" width="64" height="64"><br>
      Written by Boy Sandy Gladies Arriezona
    </div>
  </footer>


</div>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>
</html>

