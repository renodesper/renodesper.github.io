<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <title>
    
      Postgresql and Metasploit &middot; A Place to Remember
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="apple-touch-icon" sizes="57x57" href="/public/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/public/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/public/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/public/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/public/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/public/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/public/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/public/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/public/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/public/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/public/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/public/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/public/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/public/manifest.json">
  <link rel="mask-icon" href="/public/safari-pinned-tab.svg" color="#5bbad5">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="layout-reverse">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          A Place to Remember
        </a>
      </h1>
      <p class="lead">Thoughts, stories and ideas.</p>
    </div>

    <nav class="sidebar-nav">
      <!-- <a class="sidebar-nav-item" href="/">Home</a> -->

      <!-- 
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about.html">About</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
       -->

      <!-- <a class="sidebar-nav-item" href="https://github.com/renodesper/archive/v.zip">Download</a>
      <a class="sidebar-nav-item" href="https://github.com/renodesper">GitHub project</a> -->
    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Postgresql and Metasploit</h1>
  <span class="post-date">12 Jul 2014</span>
  <p>Dulu saya selalu penasaran bagaimana caranya menggunakan metasploit dan konfigurasi database-nya. Tetapi ternyata selama ini saya hanya kurang paham dengan alurnya. Berikut saya tuliskan apa yang sudah saya pahami saat ini.</p>

<h2 id="first-step">First Step</h2>

<p>Hal pertama yang harus diperhatikan adalah database. Database yang digunakan oleh metasploit adalah postgresql. Setelah memasang postgresql di sistem yang kita miliki, kita harus membuat sebuah database yang nantinya akan digunakan oleh metasploit, begitu juga dengan user. Selain itu, hal penting lain yang harus diingat adalah port dimana database tersebut berjalan. Jika melihat di tutorial-tutorial yang sudah ada, maka port tersebut akan berbeda-beda. Oleh karena itu kita harus mencari tahu port yang digunakan oleh postgresql pada sistem yang kita miliki. Berikut contoh konfigurasi database yang saya gunakan.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">production</span><span class="pi">:</span>
    <span class="s">adapter</span><span class="pi">:</span> <span class="s">postgresql</span>
    <span class="s">database</span><span class="pi">:</span> <span class="s">database_msf</span>
    <span class="s">username</span><span class="pi">:</span> <span class="s">user_msf</span>
    <span class="s">password</span><span class="pi">:</span> <span class="s">password_msf</span>
    <span class="s">host</span><span class="pi">:</span> <span class="s">127.0.0.1</span>
    <span class="s">port</span><span class="pi">:</span> <span class="s">5432</span>
    <span class="s">pool</span><span class="pi">:</span> <span class="s">256</span>
    <span class="s">timeout</span><span class="pi">:</span> <span class="s">5</span>
</code></pre>
</div>

<h2 id="second-step-final-step">Second Step (Final Step?)</h2>

<p>Jika konfigurasi database sudah selesai dilakukan, maka selanjutnya kita cukup mengecek apakah metasploit sudah dapat mengakses database yang sudah kita sediakan.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>~ msfconsole
<span class="o">[</span>-] Failed to connect to the database: could not connect to server: Connection refused
    Is the server running on host <span class="s2">"127.0.0.1"</span> and accepting
    TCP/IP connections on port 5432?

 ------------
&lt; metasploit &gt;
 ------------
       <span class="se">\ </span>  ,__,
        <span class="se">\ </span> <span class="o">(</span>oo<span class="o">)</span>___
           <span class="o">(</span>__<span class="o">)</span>    <span class="o">)</span><span class="se">\</span>
              <span class="o">||</span>--|| <span class="k">*</span>


       <span class="o">=[</span> metasploit v4.9.3-dev <span class="o">[</span>core:4.9 api:1.0]        <span class="o">]</span>
+ -- --<span class="o">=[</span> 1318 exploits - 716 auxiliary - 210 post        <span class="o">]</span>
+ -- --<span class="o">=[</span> 341 payloads - 35 encoders - 8 nops             <span class="o">]</span>
+ -- --<span class="o">=[</span> Free Metasploit Pro trial: http://r-7.co/trymsp <span class="o">]</span>

msf &gt;
</code></pre>
</div>

<p>Seperti yang dapat kita lihat, metasploit masih belum dapat mengakses database yang kita buat. Ini disebabkan karena service postgresql belum kita nyalakan. Hal ini biasa terjadi jika kita memasang postgresql pada sistem yang kurang user friendly. Jangan dibandingkan dengan Kali yang sudah jelas-jelas menyediakan tools ini pada sistemnya.</p>

<p>Hal yang harus kita lakukan selanjutnya adalah menjalankan service postgresql dan mencoba menjalankan lagi metasploit.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>~ sudo systemctl start postgresql
~ msfconsole

       <span class="o">=[</span> metasploit v4.9.3-dev <span class="o">[</span>core:4.9 api:1.0]        <span class="o">]</span>
+ -- --<span class="o">=[</span> 1318 exploits - 716 auxiliary - 210 post        <span class="o">]</span>
+ -- --<span class="o">=[</span> 341 payloads - 35 encoders - 8 nops             <span class="o">]</span>
+ -- --<span class="o">=[</span> Free Metasploit Pro trial: http://r-7.co/trymsp <span class="o">]</span>

msf &gt; db_status
<span class="o">[</span><span class="k">*</span><span class="o">]</span> postgresql connected to database_msf

msf &gt;
</code></pre>
</div>

<p>Daaaaan, metasploit sudah dapat terkoneksi dengan database. Happy hackingâ€¦ :)</p>

</div>

<div class="related">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- renodesper.com -->
  <ins class="adsbygoogle"
      style="display:block"
      data-ad-client="ca-pub-7859924579359588"
      data-ad-slot="1665156355"
      data-ad-format="auto"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/01/06/native-development-of-android-in-visual-studio.html">
            Native development of Android in Visual Studio
            <small>06 Jan 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/10/04/berbagi-buku.html">
            Berbagi Buku
            <small>04 Oct 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/07/30/my-first-time-with-awk.html">
            My First Time with Awk
            <small>30 Jul 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


<div id="disqus_thread"></div>
<script>
	/*
    var disqus_config = function () {
        this.page.url = "https://blog.renodesper.com/";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//aplacetoremember.disqus.com/embed.js';        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


    </div>

  </body>
</html>
